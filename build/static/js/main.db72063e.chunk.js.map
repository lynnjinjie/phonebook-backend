{"version":3,"sources":["services/persons.js","components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newPerson","post","id","delete","put","Filter","persons","setPersons","useState","filterName","setFilterName","value","onChange","event","target","filterPersons","filter","person","name","toLocaleLowerCase","includes","PersonForm","setErrorMessage","newName","setNewName","newNumber","setNewNumber","type","onClick","preventDefault","itemPerson","find","console","log","window","confirm","personServices","number","res","map","item","catch","error","setTimeout","concat","Persons","key","Notification","message","className","App","errorMessage","useEffect","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.db72063e.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then((response) => response.data)\n}\n\nconst create = (newPerson) => {\n  const request = axios.post(baseUrl, newPerson)\n  return request.then((response) => response.data)\n}\nconst update = (id, newPerson) => {\n  const request = axios.put(`${baseUrl}/${id}`, newPerson)\n  return request.then((response) => response.data)\n}\nconst del = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then((response) => response.data)\n}\nexport default { getAll, create, del, update }\n","import React, { useState } from 'react'\n\nconst Filter = ({ persons, setPersons }) => {\n  const [filterName, setFilterName] = useState('')\n\n  const handleChangeFilterName = (event) => {\n    setFilterName(event.target.value)\n    const filterPersons = persons.filter((person) =>\n      person.name.toLocaleLowerCase().includes(filterName.toLocaleLowerCase())\n    )\n    setPersons(filterPersons)\n  }\n  return (\n    <>\n      filter show with:\n      <input value={filterName} onChange={handleChangeFilterName} />\n    </>\n  )\n}\n\nexport default Filter\n","import React, { useState } from 'react'\nimport personServices from '../services/persons'\nconst PersonForm = ({ persons, setPersons, setErrorMessage }) => {\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n\n  const add = (event) => {\n    event.preventDefault()\n    const itemPerson = persons.find((person) => person.name === newName)\n    console.log(itemPerson)\n    if (itemPerson) {\n      if (\n        window.confirm(\n          `${newName} is already added to phonebook, replace the old number with a new one?`\n        )\n      ) {\n        personServices\n          .update(itemPerson.id, {\n            name: newName,\n            number: newNumber,\n          })\n          .then((res) => {\n            setPersons(\n              persons.map((item) => (item.id !== itemPerson.id ? item : res))\n            )\n          })\n          .catch((error) => {\n            setErrorMessage(\n              ` Information of ${itemPerson.name} has already been removed from server`\n            )\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n          })\n      }\n      return\n    }\n    const personObj = { name: newName, number: newNumber }\n    personServices.create(personObj).then((res) => {\n      setPersons(persons.concat(res))\n      setNewName('')\n    })\n  }\n\n  const handleChangeName = (event) => {\n    setNewName(event.target.value)\n  }\n  const handleChangeNumber = (event) => {\n    setNewNumber(event.target.value)\n  }\n  return (\n    <form>\n      <div>\n        name: <input value={newName} onChange={handleChangeName} />\n      </div>\n      <div>\n        number: <input value={newNumber} onChange={handleChangeNumber} />\n      </div>\n      <div>\n        <button type=\"submit\" onClick={add}>\n          add\n        </button>\n      </div>\n    </form>\n  )\n}\n\nexport default PersonForm\n","import React from 'react'\nimport personServices from '../services/persons'\n\nconst Persons = ({ persons, setPersons }) => {\n  const del = (id, name) => {\n    console.log(name)\n    if (window.confirm(`Delete ${name}?`)) {\n      personServices.del(id).then((res) => {\n        console.log('res', res)\n        setPersons(persons.filter((item) => item.id !== id))\n      })\n    }\n  }\n  return (\n    <ul>\n      {persons.map((person) => (\n        <li key={person.id}>\n          {person.name} {person.number}\n          &nbsp;\n          <button\n            onClick={() => {\n              del(person.id, person.name)\n            }}\n          >\n            delete\n          </button>\n        </li>\n      ))}\n    </ul>\n  )\n}\n\nexport default Persons\n","import React from 'react'\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n  return <div className=\"error\">{message}</div>\n}\n\nexport default Notification\n","import React, { useState, useEffect } from 'react'\nimport personServices from './services/persons'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    personServices.getAll().then((res) => setPersons(res))\n  }, [])\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={errorMessage}></Notification>\n      <Filter persons={persons} setPersons={setPersons} />\n      <h3>Add a new</h3>\n      <PersonForm\n        persons={persons}\n        setPersons={setPersons}\n        setErrorMessage={setErrorMessage}\n      />\n      <h3>Numbers</h3>\n      <Persons persons={persons} setPersons={setPersons} />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}